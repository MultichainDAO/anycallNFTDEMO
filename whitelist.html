<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"> <!--<![endif]-->
  
<head>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

<meta name="description" content="Neoh">
<meta name="author" content="Frenify">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

<title>Multichain NFT Minting Demo | White List</title>

<!-- Google Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Heebo:wght@100;200;300;400;500;600;700;800;900&family=Nunito:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<!-- !Google Fonts -->

<!-- Styles -->
<link type="text/css" rel="stylesheet" href="css/plugins.css" />
<link type="text/css" rel="stylesheet" href="css/style.css?ver=2.0" />
<!--[if lt IE 9]> <script type="text/javascript" src="js/modernizr.custom.js"></script> <![endif]-->
<!-- !Styles -->

</head>

<body>


<!-- Main -->
<div class="neoh_fn_main" data-footer-sticky="">
	
	
	<!-- Header -->
	<header class="neoh_fn_header">
		<div class="container">
			<div class="header_in">
			
				<div class="logo">
					<a href="index.html">Multichain NFT Minting Demo</a>
				</div>
				
			</div>
		</div>
	</header>
	<!-- !Header -->
	

	<!-- Content -->
	<div class="neoh_fn_content">

	</div>
	<!-- Content -->
	
	<!-- Footer -->
	<footer id="footer">
		<div class="neoh_fn_footer">
		
			<!-- Footer Top -->
			<div class="footer_top">
				<div class="container">
					<div class="ft_in">
					
						<div class="desc">
							<h3 class="fn_title">WHITE LIST</h3>
							<p class="fn_desc"></p>
						</div>
						
						<div class="subscribe_form">
							<div class="subscribe_in">
								<input type="text" placeholder="White List...">
								<select class="neoh_fn_button" style="width:150px;padding:0;">
									<option value="1">Free</option>
									<option value="0">WhiteList</option>
								</select>
								<a href="#" class="neoh_fn_button only_text">
									<span class="text">Submit</span>
								</a>
							</div>
							<div class="returnmessage" data-invalid-email="Please enter valid White List!"></div>
							<div class="empty_notice"><span>Please enter your White List</span></div>
						</div>
						
						<div class="whiteList">
							<table id="whiteListTable">
								<tr>
									<th width="40">#</th>
									<th>ADDRESS</th>
									<th>TYPE</th>
								</tr>
							</table>
						</div>
						
					</div>
				</div>
			</div>
			<!-- !Footer Top -->
			
			<!-- Footer Bottom -->
			<div class="footer_bottom">
				<div class="container">
					<!-- <div class="fb_in"> -->
						
						<div class="fb_left">
							<p style="text-align: center;">Copyright 2022 &copy; Designed & Developed by  <a href="#" target="_blank">Multichain NFT Minting Demo</a></p>
						</div>
						
						<!-- <div class="fb_right">
							<ul>
								<li><a href="#">Terms &amp; Conditions</a></li>
							</ul>
						</div> -->
						
					<!-- </div> -->
				</div>
			</div>
			<!-- !Footer Bottom -->
			
		</div>
	</footer>
	<!-- !Footer -->
	 
	<!-- Totop -->
	<a href="#" class="neoh_fn_totop">
		<span class="arrow"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 492.004 492.004" style="enable-background:new 0 0 492.004 492.004;" xml:space="preserve" class="fn__svg replaced-svg">
		<path d="M382.678,226.804L163.73,7.86C158.666,2.792,151.906,0,144.698,0s-13.968,2.792-19.032,7.86l-16.124,16.12    c-10.492,10.504-10.492,27.576,0,38.064L293.398,245.9l-184.06,184.06c-5.064,5.068-7.86,11.824-7.86,19.028    c0,7.212,2.796,13.968,7.86,19.04l16.124,16.116c5.068,5.068,11.824,7.86,19.032,7.86s13.968-2.792,19.032-7.86L382.678,265    c5.076-5.084,7.864-11.872,7.848-19.088C390.542,238.668,387.754,231.884,382.678,226.804z"></path></svg></span>
		<span class="circle"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="play" x="0px" y="0px" height="100px" width="100px" viewBox="0 0 100 100" enable-background="new 0 0 100 100" xml:space="preserve" class="fn__svg replaced-svg"><path class="stroke-solid" fill="none" d="M49.9,2.5C23.6,2.8,2.1,24.4,2.5,50.4C2.9,76.5,24.7,98,50.3,97.5c26.4-0.6,47.4-21.8,47.2-47.7     C97.3,23.7,75.7,2.3,49.9,2.5" style="stroke-dashoffset: 156px;"></path></svg></span>
	</a>
	<!-- !Totop -->
	
</div>
<!-- !Main -->

<!-- Scripts -->
<script type="text/javascript" src="js/jquery.js"></script>
<script type="text/javascript" src="js/plugins.js"></script>
<!--[if lt IE 10]> <script type="text/javascript" src="js/ie8.js"></script> <![endif]-->
<script type="text/javascript" src="js/init.js?ver=2.0"></script>
<script>
	function getLocalhostParams() {
		let param = {}
		for(let obj of document.location.search.substr(1).split('&')) {
			let obj2 = obj.split('=')
			param[obj2[0]] = obj2[1]
		}
		return param;
	}
	function visibilitychange() {
		if (document.visibilityState === 'visible') {
			getWhiteList()
		}
	}
	function getWhiteList() {
		let {chainId} = getLocalhostParams()
		$.ajax({
            url: "http://121.40.162.164:8080/white_list",
            data: {chainId},
            type: 'get',
            dataType: 'json',
            success: function(data) {
				let $table = $('#whiteListTable')
				$table.empty()
				$table.append(`
					<tr>
						<th width="40">#</th>
						<th>ADDRESS</th>
						<th>TYPE</th>
					</tr>
				`)
                if(data.errCode==0) {
					let i = 1;
                    for(let obj of data.data) {
						$('#whiteListTable').append(`
							<tr>
								<td>${i++}</td>
								<td>${obj['account']}</td>
								<td>${obj['type']==1?'Free':'WhiteList'}</td>
							</tr>
						`)
					}
                }
            },
            error: function(err) { 
               	console.log(err)
            }
        })
	}
	window.onload = ()=> {
		getWhiteList()
		let {account} = getLocalhostParams()
		if (account) {
			$('.subscribe_form input').val(account)
		}
		document.addEventListener('visibilitychange', visibilitychange)
	}
	window.onunload = ()=> {
		document.removeEventListener('visibilitychange', visibilitychange)
	}
</script>
<!-- !Scripts -->
</body>
</html>